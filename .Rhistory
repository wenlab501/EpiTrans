ggplot() + geom_line(aes(x = data$t, y = data$Freq))
ggplot(data) + geom_line(aes(x = t, y = Freq, group = 1))
ggplot(data) + geom_line(aes(x = t, y = Freq, group = 1))
data <- data.frame(xtabs(~t))
data
ggplot(data) + geom_line(aes(x = t, y = Freq, group = 1))
plot(t)
t=dengue$date
library(EpiTrans)
t=dengue$date
interval=c("day","week","month")
interval="week"
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
data <- data.frame(xtabs(~t))
library(ggplot2)
ggplot(data) + geom_line(aes(x = t, y = Freq, group = 1))
interval=c("day","week","month")
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
data <- data.frame(xtabs(~t))
ggplot(data) + geom_line(aes(x = t, y = Freq, group = 1))
plot(t)
t=dengue$date
interval=c("day","week","month")
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
data <- data.frame(xtabs(~t))
ggplot(data) + geom_line(aes(x = t, y = Freq, group = 1))
min(t)
min(data$t)
level.t
sep(level.t)
seq(level.t)
seq(level.t,length.out = 10)
min(level.t)
seq(min(level.t),max(max(level.t)),length.out = 10)
a=seq(min(level.t),max(max(level.t)),length.out = 10)
ggplot(data) + geom_line(aes(x = t, y = Freq, group = 1)) + scale_x_continuous(breaks=a)
a
data$t=as.character(data$t)
ggplot(data) + geom_line(aes(x = t, y = Freq, group = 1)) + scale_x_continuous(breaks=a)
a
a=seq(min(level.t),max(max(level.t)),length.out = 10)
a=factor(a)
levels(a)=level.t
t=dengue$date
interval=c("day","week","month")
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
data <- data.frame(xtabs(~t))
ggplot(data) + geom_line(aes(x = t, y = Freq, group = 1)) + scale_x_continuous(breaks=a)
ggplot(data) + geom_line(aes(x = t, y = Freq, group = 1))
a=seq(min(level.t),max(max(level.t)),length.out = 10)
a=factor(a)
levels(a)=level.t
ggplot(data) + geom_line(aes(x = t, y = Freq, group = 1)) + scale_x_continuous(breaks=a)
data$date=as.numeric(data$t)
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1)) + scale_x_continuous(breaks=a)
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1))
a=seq(1:row(data),length.out = 10)
a
row(data)
a=seq(1,nrow(data),length.out = 10)
a
?seq
a=seq.int(1,nrow(data),length.out = 10,)
a=seq.int(1,nrow(data),length.out = 10)
a
seq.int(1:10,3)
seq.int(1,10,3)
seq.int(1,11,3)
seq.int(1,11,length.out =3)
seq.int(1,11,length.out =4)
a=round(seq(1,nrow(data),length.out = 10))
a
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1)) +
scale_x_continuous(breaks=a, labels = data$t[a])
a=round(seq(1,nrow(data),length.out = 5))
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1)) +
scale_x_continuous(breaks=a, labels = data$t[a])
a=round(seq(1,nrow(data),length.out = 6))
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1)) +
scale_x_continuous(breaks=a, labels = data$t[a])
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1)) +
scale_x_continuous(breaks=a, labels = data$t[a])+
xlab(interval)
t=dengue$date
interval=c("day","week","month")
interval="week"
t=dengue$date
interval=c("day","week","month")
interval="week"
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
data <- data.frame(xtabs(~t))
data$date=as.numeric(data$t)
xbrk=round(seq(1,nrow(data),length.out = 6))
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1)) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(interval)
t=dengue$date
interval=c("day","week","month")
interval="month"
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
data <- data.frame(xtabs(~t))
data$date=as.numeric(data$t)
xbrk=round(seq(1,nrow(data),length.out = 6))
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1)) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(interval)
t=dengue$date
interval=c("day","week","month")
interval="day"
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
data <- data.frame(xtabs(~t))
data$date=as.numeric(data$t)
xbrk=round(seq(1,nrow(data),length.out = 6))
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1)) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(interval)
t=dengue$date
interval=c("day","week","month")
interval="week"
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
data <- data.frame(xtabs(~t))
data$date=as.numeric(data$t)
xbrk=round(seq(1,nrow(data),length.out = 6))
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1)) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste0("by",interval))+ylab("cases")
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1)) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1)) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1),width=2) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1),lwd=2) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1),lwd=1.5) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
interval=c("day","week","month")
t=dengue$date
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
data <- data.frame(xtabs(~t))
data$date=as.numeric(data$t)
xbrk=round(seq(1,nrow(data),length.out = 6))
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1),lwd=1.5) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1),lwd=1) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
plot_epi(dengue$date)
#' Title
#'
#' Descriptions Here
#' @param mean mean.
#' @param sd sd
#' @keywords median
#' @export
#' @examples
#' median_function(seq(1:10))
plot_epi <- function(t, interval = c("day","week","month")){
require("ggplot")
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
data <- data.frame(xtabs(~t))
data$date <- as.numeric(data$t)
xbrk <- round(seq(1,nrow(data),length.out = 6))
res <- ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1),lwd=1) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
return(res)
}
plot_epi(dengue$date)
#' Title
#'
#' Descriptions Here
#' @param mean mean.
#' @param sd sd
#' @keywords median
#' @export
#' @examples
#' median_function(seq(1:10))
plot_epi <- function(t, interval = c("day","week","month")){
require("ggplot2")
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
data <- data.frame(xtabs(~t))
data$date <- as.numeric(data$t)
xbrk <- round(seq(1,nrow(data),length.out = 6))
res <- ggplot(data) + geom_line(aes(x = date, y = Freq, group = 1),lwd=1) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
return(res)
}
plot_epi(dengue$date)
plot_epi(dengue$date,"week")
x=dengue$long
y=dengue$lat
t=dengue$date
R=Rj(t,x,y)
R=R$Rj
t
tt=t
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
data <- data.frame(xtabs(R~t))
data
tapply(R, t, FUN=mean)
a=tapply(R, t, FUN=mean)
data.frame(a)
meanR <- tapply(R, t, FUN=mean)
minR <- tapply(R, t, FUN=min)
maxR <- tapply(R, t, FUN=max)
meanR[is.na(meanR)]<-0
minR[is.na(minR)]<-0
maxR[is.na(maxR)]<-0
meanR
data <- data.frame(t,meanR,minR,maxR)
t
meanR
data <- data.frame(t=level.t,meanR,minR,maxR)
xbrk <- round(seq(1,nrow(data),length.out = 6))
res <- ggplot(data) + geom_line(aes(x = date, y = meanR, group = 1),lwd=1) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
res
data
ggplot(data) + geom_line(aes(x = date, y = meanR, group = 1))
data
data$date <- as.numeric(data$t)
xbrk <- round(seq(1,nrow(data),length.out = 6))
res <- ggplot(data) + geom_line(aes(x = date, y = meanR, group = 1),lwd=1) +
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
res
res <- ggplot(data) + geom_line(aes(x = date, y = meanR, group = 1),lwd=1) +
geom_line(aes(x = date, y = minR, group = 1),lty=2)+
geom_line(aes(x = date, y = maxR, group = 1),lty=2)+
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
res
#' Title
#'
#' Descriptions Here
#' @param mean mean.
#' @param sd sd
#' @keywords median
#' @export
#' @examples
#' median_function(seq(1:10))
plot_Rt <- function(t, Rt, interval = c("day","week","month")){
require("ggplot2")
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
data <- data.frame(xtabs(R~t,))
meanR <- tapply(R, t, FUN=mean)
minR <- tapply(R, t, FUN=min)
maxR <- tapply(R, t, FUN=max)
meanR[is.na(meanR)]<-0
minR[is.na(minR)]<-0
maxR[is.na(maxR)]<-0
data <- data.frame(t = level.t,meanR,minR,maxR)
data$date <- as.numeric(data$t)
xbrk <- round(seq(1,nrow(data),length.out = 6))
res <- ggplot(data) + geom_line(aes(x = date, y = meanR, group = 1),lwd=1) +
geom_line(aes(x = date, y = minR, group = 1),lty=2)+
geom_line(aes(x = date, y = maxR, group = 1),lty=2)+
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
return(res)
}
plot_Rt(tt,R)
plot_Rt(tt,R,"week")
#' Title
#'
#' Descriptions Here
#' @param mean mean.
#' @param sd sd
#' @keywords median
#' @export
#' @examples
#' median_function(seq(1:10))
plot_Rt <- function(t, Rt, interval = c("day","week","month")){
require("ggplot2")
if(length(interval)>2) interval <- interval[1]
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
meanR <- tapply(R, t, FUN=mean)
minR <- tapply(R, t, FUN=min)
maxR <- tapply(R, t, FUN=max)
meanR[is.na(meanR)]<-0
minR[is.na(minR)]<-0
maxR[is.na(maxR)]<-0
data <- data.frame(t = level.t,meanR,minR,maxR)
data$date <- as.numeric(data$t)
xbrk <- round(seq(1,nrow(data),length.out = 6))
res <- ggplot(data) + geom_line(aes(x = date, y = meanR, group = 1),lwd=1) +
geom_line(aes(x = date, y = minR, group = 1),lty=2)+
geom_line(aes(x = date, y = maxR, group = 1),lty=2)+
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
return(res)
}
plot_Rt(tt,R,"week")
plot_Rt(tt,R)
interval="week"
t
t=tt
date.diff=as.numeric(max(t)-min(t))
level.t <- min(t)+0:date.diff
if(interval=="week"){
t <- strftime(t,"%Y-%W")
level.t <- unique(strftime(level.t,"%Y-%W"))
}else if(interval=="month"){
t <- strftime(t,"%Y-%m")
level.t <- unique(strftime(level.t,"%Y-%m"))
}
t <- as.factor(t)
levels(t) <- level.t
t
levels(t)
meanR <- tapply(R, t, FUN=mean)
meanR
minR <- tapply(R, t, FUN=min)
maxR <- tapply(R, t, FUN=max)
meanR[is.na(meanR)]<-0
minR[is.na(minR)]<-0
maxR[is.na(maxR)]<-0
data <- data.frame(t = level.t,meanR,minR,maxR)
data
data$date <- as.numeric(data$t)
data$date
data$date <- as.numeric(level.t)
xbrk <- round(seq(1,nrow(data),length.out = 6))
data$date <- 1:nrow(data)
xbrk <- round(seq(1,nrow(data),length.out = 6))
res <- ggplot(data) + geom_line(aes(x = date, y = meanR, group = 1),lwd=1) +
geom_line(aes(x = date, y = minR, group = 1),lty=2)+
geom_line(aes(x = date, y = maxR, group = 1),lty=2)+
scale_x_continuous(breaks=xbrk, labels = data$t[xbrk])+
xlab(paste("by",interval))+ylab("cases")+
theme_minimal()
res
plot_epi(tt,"week")
library(roxygen2)
roxygen2::roxygenize()
roxygen2::roxygenize()
roxygen2::roxygenize()
